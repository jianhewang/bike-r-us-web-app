# Purchasing Requirements

## Business Process Overview

> *Employees must log onto the system. Purchasing must only allow authenticated users within the Purchasing Role to have access to the subsystem. A Parts Manager creates purchases. The Employee full name must appear on the form in text mode*

Purchases are to a specific vendor. A vendor may have or may not have a purchase order currently active that is not yet placed. A purchase order that is currently active but not yet placed will have a null Order Date on the database record. An order may be created over several work sessions until a decision is made to actually place (send the order) to the vendor. A vendor may have only one active order on file at a time. Purchase processing starts by either:  
  
- requesting a suggested purchase order list for a new order, or
- retrieving and displaying the currently active but not placed vendor order.  

## Suggested Purchase Order

A suggested purchase order is created when the vendor does **not** have a current active order (an order that has been started, is being reviewed and adjusted and is **not** placed). The system compares inventory reorder levels against quantity on hand and outstanding purchase orders quantities not yet received for a specific vendor part. This data is displayed for the manager so that the manager may make any alternations to the suggested order list. The manager may add items to the suggested order list, adjust existing data on the list and remove items from the list. A current active order is created (a PurchaseOrder record and PurchaseOrderDetail records) from this list when the **Update** button is pressed, **not before**. When the new current active order is created, the PurchaseOrderNumber (PON) will be auto-generated by the program.The new PON will be the next highest PON on file. This will become the Current Active Order for the vendor.

## Current Active Order

A current active order is an existing order which has not yet been **placed**. This is an order that contains items that are being considered for purchasing from the vendor. The manager may make any alternations to this order by adding more items, adjusting quantity and price for items, and removing items from the order list. An current active order is identified by **not** having an Order Date.

## Placed Order

Once the manager is satisfied with the purchase order, the purchase order is placed. When the order is placed, the Order Date is filled with the current date. The part's QuantityOnOrder will be updated at this time. This purchase order **can no longer be altered.**



&nbsp;
&nbsp;
# Design Approaches 

- **HTML** Two forms on one web page. One is for the draft of a purchasing order, and one supports the purchasing decision with vendor inventory
- **HTML** 4 buttons to perform CRUD and clear functions
- **HTML** Icon buttons in the list perform form value editing. No database changes.
- **HTML** Dialog boxes shows up after each form button process
---
- **GET** Vendor drop down list will load all vendors available from the database at the page load or page refresh
- **PRG** [Find order] will retrieve vendor information and associated current active order information if exists
  - If there is a current active order related to the selected vendor, ```Current Active Order List``` will be populated with saved data from ```PurchaseOrderDetails``` table in the database. 
  - If there is no current order, grid list will display suggested order. 
  - The ```Vendor List``` in below will be populated with additional item that can be obtained through the selected vendor.
- **POST** [Delete Button] in the  ```Current Active Order List``` will remove the item from the list, and add it to the ```Vendor List``` in below.
- **POST** [Refresh Button] in the  ```Current Active Order List``` will manually look up the price. It will also update the subtotal, GST, and total.
- **POST** [Add Button] in the  ```Vendor List``` will remove the item from the list, and add it to the ```Current Active Order List``` in above.
- **PRG/POST** [New Order] Click the button to generate the suggested list. System compares inventory reorder levels against quantity on hand and outstanding purchase orders quantities not yet received for a specific vendor part.
- **PRG/POST** [Update Order] Click the button will save all the changes made in ```Current Active Order List```.
- **PRG/POST** [Place Order] Finalize the information as a permanent order that need to be sent to the vendor. An order date will be updated to replace the null value in the table.
- **PRG/POST** [Delete Order] Delete the order that has been opened but not yet placed.
- **PRG** [Clear] Clear the all web form fields to the default. Reset the vendor drop down list.  

> [New Order] button will show only if vendor does not have a ```Current Active Order List```. 

> [Update Order] button will show only if vendor has an order that currently open but not yet placed.

&nbsp;
&nbsp;
## Form interface mock-up
![currentactiveorder](https://user-images.githubusercontent.com/59836095/144686850-25a63bc8-fddc-4841-9007-6b27fdb38923.png)


![vendorinventory](https://user-images.githubusercontent.com/59836095/144688281-b44cdddc-17a1-48c0-8894-cea0d2f280c1.png)
